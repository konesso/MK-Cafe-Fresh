"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),function(e,t,o,i){var n={init:function(t,o){var i=this;i.elem=o,i.$elem=e(o),i.imageSrc=i.$elem.data("zoom-image")?i.$elem.data("zoom-image"):i.$elem.attr("src"),i.options=e.extend({},e.fn.elevateZoom.options,t),i.options.tint&&(i.options.lensColour="none",i.options.lensOpacity="1"),"inner"==i.options.zoomType&&(i.options.showLens=!1),i.$elem.parent().removeAttr("title").removeAttr("alt"),i.zoomImage=i.imageSrc,i.refresh(1),e("#"+i.options.gallery+" a").click((function(t){return i.options.galleryActiveClass&&(e("#"+i.options.gallery+" a").removeClass(i.options.galleryActiveClass),e(this).addClass(i.options.galleryActiveClass)),t.preventDefault(),e(this).data("zoom-image")?i.zoomImagePre=e(this).data("zoom-image"):i.zoomImagePre=e(this).data("image"),i.swaptheimage(e(this).data("image"),i.zoomImagePre),!1}))},refresh:function(e){var t=this;setTimeout((function(){t.fetch(t.imageSrc)}),e||t.options.refresh)},fetch:function(e){var t=this,o=new Image;o.onload=function(){t.largeWidth=o.width,t.largeHeight=o.height,t.startZoom(),t.currentImage=t.imageSrc,t.options.onZoomedImageLoaded(t.$elem)},o.src=e},startZoom:function(){var t=this;if(t.nzWidth=t.$elem.width(),t.nzHeight=t.$elem.height(),t.isWindowActive=!1,t.isLensActive=!1,t.isTintActive=!1,t.overWindow=!1,t.options.imageCrossfade&&(t.zoomWrap=t.$elem.wrap('<div style="height:'+t.nzHeight+"px;width:"+t.nzWidth+'px;" class="zoomWrapper" />'),t.$elem.css("position","absolute")),t.zoomLock=1,t.scrollingLock=!1,t.changeBgSize=!1,t.currentZoomLevel=t.options.zoomLevel,t.nzOffset=t.$elem.offset(),t.widthRatio=t.largeWidth/t.currentZoomLevel/t.nzWidth,t.heightRatio=t.largeHeight/t.currentZoomLevel/t.nzHeight,"window"==t.options.zoomType&&(t.zoomWindowStyle="overflow: hidden;background-position: 0px 0px;text-align:center;background-color: "+String(t.options.zoomWindowBgColour)+";width: "+String(t.options.zoomWindowWidth)+"px;height: "+String(t.options.zoomWindowHeight)+"px;float: left;background-size: "+t.largeWidth/t.currentZoomLevel+"px "+t.largeHeight/t.currentZoomLevel+"px;display: none;z-index:100;border: "+String(t.options.borderSize)+"px solid "+t.options.borderColour+";background-repeat: no-repeat;position: absolute;"),"inner"==t.options.zoomType){var o=t.$elem.css("border-left-width");t.zoomWindowStyle="overflow: hidden;margin-left: "+String(o)+";margin-top: "+String(o)+";background-position: 0px 0px;width: "+String(t.nzWidth)+"px;height: "+String(t.nzHeight)+"px;float: left;display: none;cursor:"+t.options.cursor+";px solid "+t.options.borderColour+";background-repeat: no-repeat;position: absolute;"}"window"==t.options.zoomType&&(lensHeight=t.nzHeight<t.options.zoomWindowWidth/t.widthRatio?t.nzHeight:String(t.options.zoomWindowHeight/t.heightRatio),lensWidth=t.largeWidth<t.options.zoomWindowWidth?t.nzWidth:t.options.zoomWindowWidth/t.widthRatio,t.lensStyle="background-position: 0px 0px;width: "+String(t.options.zoomWindowWidth/t.widthRatio)+"px;height: "+String(t.options.zoomWindowHeight/t.heightRatio)+"px;float: right;display: none;overflow: hidden;z-index: 999;-webkit-transform: translateZ(0);opacity:"+t.options.lensOpacity+";filter: alpha(opacity = "+100*t.options.lensOpacity+"); zoom:1;width:"+lensWidth+"px;height:"+lensHeight+"px;background-color:"+t.options.lensColour+";cursor:"+t.options.cursor+";border: "+t.options.lensBorderSize+"px solid "+t.options.lensBorderColour+";background-repeat: no-repeat;position: absolute;"),t.tintStyle="display: block;position: absolute;background-color: "+t.options.tintColour+";filter:alpha(opacity=0);opacity: 0;width: "+t.nzWidth+"px;height: "+t.nzHeight+"px;",t.lensRound="","lens"==t.options.zoomType&&(t.lensStyle="background-position: 0px 0px;float: left;display: none;border: "+String(t.options.borderSize)+"px solid "+t.options.borderColour+";width:"+String(t.options.lensSize)+"px;height:"+String(t.options.lensSize)+"px;background-repeat: no-repeat;position: absolute;"),"round"==t.options.lensShape&&(t.lensRound="border-top-left-radius: "+String(t.options.lensSize/2+t.options.borderSize)+"px;border-top-right-radius: "+String(t.options.lensSize/2+t.options.borderSize)+"px;border-bottom-left-radius: "+String(t.options.lensSize/2+t.options.borderSize)+"px;border-bottom-right-radius: "+String(t.options.lensSize/2+t.options.borderSize)+"px;"),t.zoomContainer=e('<div class="zoomContainer" style="-webkit-transform: translateZ(0);position:absolute;left:'+t.nzOffset.left+"px;top:"+t.nzOffset.top+"px;height:"+t.nzHeight+"px;width:"+t.nzWidth+'px;z-index:2;"></div>'),e("body").append(t.zoomContainer),t.options.containLensZoom&&"lens"==t.options.zoomType&&t.zoomContainer.css("overflow","hidden"),"inner"!=t.options.zoomType&&(t.zoomLens=e("<div class='zoomLens' style='"+t.lensStyle+t.lensRound+"'>&nbsp;</div>").appendTo(t.zoomContainer).click((function(){t.$elem.trigger("click")})),t.options.tint&&(t.tintContainer=e("<div/>").addClass("tintContainer"),t.zoomTint=e("<div class='zoomTint' style='"+t.tintStyle+"'></div>"),t.zoomLens.wrap(t.tintContainer),t.zoomTintcss=t.zoomLens.after(t.zoomTint),t.zoomTintImage=e('<img style="position: absolute; left: 0px; top: 0px; max-width: none; width: '+t.nzWidth+"px; height: "+t.nzHeight+'px;" src="'+t.imageSrc+'">').appendTo(t.zoomLens).click((function(){t.$elem.trigger("click")})))),isNaN(t.options.zoomWindowPosition)?t.zoomWindow=e("<div style='z-index:999;left:"+t.windowOffsetLeft+"px;top:"+t.windowOffsetTop+"px;"+t.zoomWindowStyle+"' class='zoomWindow'>&nbsp;</div>").appendTo("body").click((function(){t.$elem.trigger("click")})):t.zoomWindow=e("<div style='z-index:999;left:"+t.windowOffsetLeft+"px;top:"+t.windowOffsetTop+"px;"+t.zoomWindowStyle+"' class='zoomWindow'>&nbsp;</div>").appendTo(t.zoomContainer).click((function(){t.$elem.trigger("click")})),t.zoomWindowContainer=e("<div/>").addClass("zoomWindowContainer").css("width",t.options.zoomWindowWidth),t.zoomWindow.wrap(t.zoomWindowContainer),"lens"==t.options.zoomType&&t.zoomLens.css({backgroundImage:"url('"+t.imageSrc+"')"}),"window"==t.options.zoomType&&t.zoomWindow.css({backgroundImage:"url('"+t.imageSrc+"')"}),"inner"==t.options.zoomType&&t.zoomWindow.css({backgroundImage:"url('"+t.imageSrc+"')"}),t.$elem.bind("touchmove",(function(e){e.preventDefault(),t.setPosition(e.originalEvent.touches[0]||e.originalEvent.changedTouches[0])})),t.zoomContainer.bind("touchmove",(function(e){"inner"==t.options.zoomType&&t.showHideWindow("show"),e.preventDefault(),t.setPosition(e.originalEvent.touches[0]||e.originalEvent.changedTouches[0])})),t.zoomContainer.bind("touchend",(function(e){t.showHideWindow("hide"),t.options.showLens&&t.showHideLens("hide"),t.options.tint&&"inner"!=t.options.zoomType&&t.showHideTint("hide")})),t.$elem.bind("touchend",(function(e){t.showHideWindow("hide"),t.options.showLens&&t.showHideLens("hide"),t.options.tint&&"inner"!=t.options.zoomType&&t.showHideTint("hide")})),t.options.showLens&&(t.zoomLens.bind("touchmove",(function(e){e.preventDefault(),t.setPosition(e.originalEvent.touches[0]||e.originalEvent.changedTouches[0])})),t.zoomLens.bind("touchend",(function(e){t.showHideWindow("hide"),t.options.showLens&&t.showHideLens("hide"),t.options.tint&&"inner"!=t.options.zoomType&&t.showHideTint("hide")}))),t.$elem.bind("mousemove",(function(e){0==t.overWindow&&t.setElements("show"),t.lastX===e.clientX&&t.lastY===e.clientY||(t.setPosition(e),t.currentLoc=e),t.lastX=e.clientX,t.lastY=e.clientY})),t.zoomContainer.bind("mousemove",(function(e){0==t.overWindow&&t.setElements("show"),t.lastX===e.clientX&&t.lastY===e.clientY||(t.setPosition(e),t.currentLoc=e),t.lastX=e.clientX,t.lastY=e.clientY})),"inner"!=t.options.zoomType&&t.zoomLens.bind("mousemove",(function(e){t.lastX===e.clientX&&t.lastY===e.clientY||(t.setPosition(e),t.currentLoc=e),t.lastX=e.clientX,t.lastY=e.clientY})),t.options.tint&&"inner"!=t.options.zoomType&&t.zoomTint.bind("mousemove",(function(e){t.lastX===e.clientX&&t.lastY===e.clientY||(t.setPosition(e),t.currentLoc=e),t.lastX=e.clientX,t.lastY=e.clientY})),"inner"==t.options.zoomType&&t.zoomWindow.bind("mousemove",(function(e){t.lastX===e.clientX&&t.lastY===e.clientY||(t.setPosition(e),t.currentLoc=e),t.lastX=e.clientX,t.lastY=e.clientY})),t.zoomContainer.add(t.$elem).mouseenter((function(){0==t.overWindow&&t.setElements("show")})).mouseleave((function(){t.scrollLock||t.setElements("hide")})),"inner"!=t.options.zoomType&&t.zoomWindow.mouseenter((function(){t.overWindow=!0,t.setElements("hide")})).mouseleave((function(){t.overWindow=!1})),t.minZoomLevel=t.options.minZoomLevel?t.options.minZoomLevel:2*t.options.scrollZoomIncrement,t.options.scrollZoom&&t.zoomContainer.add(t.$elem).bind("mousewheel DOMMouseScroll MozMousePixelScroll",(function(o){t.scrollLock=!0,clearTimeout(e.data(this,"timer")),e.data(this,"timer",setTimeout((function(){t.scrollLock=!1}),250));var i=o.originalEvent.wheelDelta||-1*o.originalEvent.detail;return o.stopImmediatePropagation(),o.stopPropagation(),o.preventDefault(),0<i/120?t.currentZoomLevel>=t.minZoomLevel&&t.changeZoomLevel(t.currentZoomLevel-t.options.scrollZoomIncrement):t.options.maxZoomLevel?t.currentZoomLevel<=t.options.maxZoomLevel&&t.changeZoomLevel(parseFloat(t.currentZoomLevel)+t.options.scrollZoomIncrement):t.changeZoomLevel(parseFloat(t.currentZoomLevel)+t.options.scrollZoomIncrement),!1}))},setElements:function(e){if(!this.options.zoomEnabled)return!1;"show"==e&&this.isWindowSet&&("inner"==this.options.zoomType&&this.showHideWindow("show"),"window"==this.options.zoomType&&this.showHideWindow("show"),this.options.showLens&&this.showHideLens("show"),this.options.tint&&"inner"!=this.options.zoomType&&this.showHideTint("show")),"hide"==e&&("window"==this.options.zoomType&&this.showHideWindow("hide"),this.options.tint||this.showHideWindow("hide"),this.options.showLens&&this.showHideLens("hide"),this.options.tint&&this.showHideTint("hide"))},setPosition:function(e){if(!this.options.zoomEnabled)return!1;this.nzHeight=this.$elem.height(),this.nzWidth=this.$elem.width(),this.nzOffset=this.$elem.offset(),this.options.tint&&"inner"!=this.options.zoomType&&(this.zoomTint.css({top:0}),this.zoomTint.css({left:0})),this.options.responsive&&!this.options.scrollZoom&&this.options.showLens&&(lensHeight=this.nzHeight<this.options.zoomWindowWidth/this.widthRatio?this.nzHeight:String(this.options.zoomWindowHeight/this.heightRatio),lensWidth=this.largeWidth<this.options.zoomWindowWidth?this.nzWidth:this.options.zoomWindowWidth/this.widthRatio,this.widthRatio=this.largeWidth/this.nzWidth,this.heightRatio=this.largeHeight/this.nzHeight,"lens"!=this.options.zoomType&&(lensHeight=this.nzHeight<this.options.zoomWindowWidth/this.widthRatio?this.nzHeight:String(this.options.zoomWindowHeight/this.heightRatio),lensWidth=this.options.zoomWindowWidth<this.options.zoomWindowWidth?this.nzWidth:this.options.zoomWindowWidth/this.widthRatio,this.zoomLens.css("width",lensWidth),this.zoomLens.css("height",lensHeight),this.options.tint&&(this.zoomTintImage.css("width",this.nzWidth),this.zoomTintImage.css("height",this.nzHeight))),"lens"==this.options.zoomType&&this.zoomLens.css({width:String(this.options.lensSize)+"px",height:String(this.options.lensSize)+"px"})),this.zoomContainer.css({top:this.nzOffset.top}),this.zoomContainer.css({left:this.nzOffset.left}),this.mouseLeft=parseInt(e.pageX-this.nzOffset.left),this.mouseTop=parseInt(e.pageY-this.nzOffset.top),"window"==this.options.zoomType&&(this.Etoppos=this.mouseTop<this.zoomLens.height()/2,this.Eboppos=this.mouseTop>this.nzHeight-this.zoomLens.height()/2-2*this.options.lensBorderSize,this.Eloppos=this.mouseLeft<0+this.zoomLens.width()/2,this.Eroppos=this.mouseLeft>this.nzWidth-this.zoomLens.width()/2-2*this.options.lensBorderSize),"inner"==this.options.zoomType&&(this.Etoppos=this.mouseTop<this.nzHeight/2/this.heightRatio,this.Eboppos=this.mouseTop>this.nzHeight-this.nzHeight/2/this.heightRatio,this.Eloppos=this.mouseLeft<0+this.nzWidth/2/this.widthRatio,this.Eroppos=this.mouseLeft>this.nzWidth-this.nzWidth/2/this.widthRatio-2*this.options.lensBorderSize),0>=this.mouseLeft||0>this.mouseTop||this.mouseLeft>this.nzWidth||this.mouseTop>this.nzHeight?this.setElements("hide"):(this.options.showLens&&(this.lensLeftPos=String(this.mouseLeft-this.zoomLens.width()/2),this.lensTopPos=String(this.mouseTop-this.zoomLens.height()/2)),this.Etoppos&&(this.lensTopPos=0),this.Eloppos&&(this.tintpos=this.lensLeftPos=this.windowLeftPos=0),"window"==this.options.zoomType&&(this.Eboppos&&(this.lensTopPos=Math.max(this.nzHeight-this.zoomLens.height()-2*this.options.lensBorderSize,0)),this.Eroppos&&(this.lensLeftPos=this.nzWidth-this.zoomLens.width()-2*this.options.lensBorderSize)),"inner"==this.options.zoomType&&(this.Eboppos&&(this.lensTopPos=Math.max(this.nzHeight-2*this.options.lensBorderSize,0)),this.Eroppos&&(this.lensLeftPos=this.nzWidth-this.nzWidth-2*this.options.lensBorderSize)),"lens"==this.options.zoomType&&(this.windowLeftPos=String(-1*((e.pageX-this.nzOffset.left)*this.widthRatio-this.zoomLens.width()/2)),this.windowTopPos=String(-1*((e.pageY-this.nzOffset.top)*this.heightRatio-this.zoomLens.height()/2)),this.zoomLens.css({backgroundPosition:this.windowLeftPos+"px "+this.windowTopPos+"px"}),this.changeBgSize&&(this.nzHeight>this.nzWidth?("lens"==this.options.zoomType&&this.zoomLens.css({"background-size":this.largeWidth/this.newvalueheight+"px "+this.largeHeight/this.newvalueheight+"px"}),this.zoomWindow.css({"background-size":this.largeWidth/this.newvalueheight+"px "+this.largeHeight/this.newvalueheight+"px"})):("lens"==this.options.zoomType&&this.zoomLens.css({"background-size":this.largeWidth/this.newvaluewidth+"px "+this.largeHeight/this.newvaluewidth+"px"}),this.zoomWindow.css({"background-size":this.largeWidth/this.newvaluewidth+"px "+this.largeHeight/this.newvaluewidth+"px"})),this.changeBgSize=!1),this.setWindowPostition(e)),this.options.tint&&"inner"!=this.options.zoomType&&this.setTintPosition(e),"window"==this.options.zoomType&&this.setWindowPostition(e),"inner"==this.options.zoomType&&this.setWindowPostition(e),this.options.showLens&&(this.fullwidth&&"lens"!=this.options.zoomType&&(this.lensLeftPos=0),this.zoomLens.css({left:this.lensLeftPos+"px",top:this.lensTopPos+"px"})))},showHideWindow:function(e){"show"!=e||this.isWindowActive||(this.options.zoomWindowFadeIn?this.zoomWindow.stop(!0,!0,!1).fadeIn(this.options.zoomWindowFadeIn):this.zoomWindow.show(),this.isWindowActive=!0),"hide"==e&&this.isWindowActive&&(this.options.zoomWindowFadeOut?this.zoomWindow.stop(!0,!0).fadeOut(this.options.zoomWindowFadeOut):this.zoomWindow.hide(),this.isWindowActive=!1)},showHideLens:function(e){"show"!=e||this.isLensActive||(this.options.lensFadeIn?this.zoomLens.stop(!0,!0,!1).fadeIn(this.options.lensFadeIn):this.zoomLens.show(),this.isLensActive=!0),"hide"==e&&this.isLensActive&&(this.options.lensFadeOut?this.zoomLens.stop(!0,!0).fadeOut(this.options.lensFadeOut):this.zoomLens.hide(),this.isLensActive=!1)},showHideTint:function(e){"show"!=e||this.isTintActive||(this.options.zoomTintFadeIn?this.zoomTint.css({opacity:this.options.tintOpacity}).animate().stop(!0,!0).fadeIn("slow"):(this.zoomTint.css({opacity:this.options.tintOpacity}).animate(),this.zoomTint.show()),this.isTintActive=!0),"hide"==e&&this.isTintActive&&(this.options.zoomTintFadeOut?this.zoomTint.stop(!0,!0).fadeOut(this.options.zoomTintFadeOut):this.zoomTint.hide(),this.isTintActive=!1)},setLensPostition:function(e){},setWindowPostition:function(t){var o=this;if(isNaN(o.options.zoomWindowPosition))o.externalContainer=e("#"+o.options.zoomWindowPosition),o.externalContainerWidth=o.externalContainer.width(),o.externalContainerHeight=o.externalContainer.height(),o.externalContainerOffset=o.externalContainer.offset(),o.windowOffsetTop=o.externalContainerOffset.top,o.windowOffsetLeft=o.externalContainerOffset.left;else switch(o.options.zoomWindowPosition){case 1:o.windowOffsetTop=o.options.zoomWindowOffety,o.windowOffsetLeft=+o.nzWidth;break;case 2:o.options.zoomWindowHeight>o.nzHeight&&(o.windowOffsetTop=-1*(o.options.zoomWindowHeight/2-o.nzHeight/2),o.windowOffsetLeft=o.nzWidth);break;case 3:o.windowOffsetTop=o.nzHeight-o.zoomWindow.height()-2*o.options.borderSize,o.windowOffsetLeft=o.nzWidth;break;case 4:o.windowOffsetTop=o.nzHeight,o.windowOffsetLeft=o.nzWidth;break;case 5:o.windowOffsetTop=o.nzHeight,o.windowOffsetLeft=o.nzWidth-o.zoomWindow.width()-2*o.options.borderSize;break;case 6:o.options.zoomWindowHeight>o.nzHeight&&(o.windowOffsetTop=o.nzHeight,o.windowOffsetLeft=-1*(o.options.zoomWindowWidth/2-o.nzWidth/2+2*o.options.borderSize));break;case 7:o.windowOffsetTop=o.nzHeight,o.windowOffsetLeft=0;break;case 8:o.windowOffsetTop=o.nzHeight,o.windowOffsetLeft=-1*(o.zoomWindow.width()+2*o.options.borderSize);break;case 9:o.windowOffsetTop=o.nzHeight-o.zoomWindow.height()-2*o.options.borderSize,o.windowOffsetLeft=-1*(o.zoomWindow.width()+2*o.options.borderSize);break;case 10:o.options.zoomWindowHeight>o.nzHeight&&(o.windowOffsetTop=-1*(o.options.zoomWindowHeight/2-o.nzHeight/2),o.windowOffsetLeft=-1*(o.zoomWindow.width()+2*o.options.borderSize));break;case 11:o.windowOffsetTop=o.options.zoomWindowOffety,o.windowOffsetLeft=-1*(o.zoomWindow.width()+2*o.options.borderSize);break;case 12:o.windowOffsetTop=-1*(o.zoomWindow.height()+2*o.options.borderSize),o.windowOffsetLeft=-1*(o.zoomWindow.width()+2*o.options.borderSize);break;case 13:o.windowOffsetTop=-1*(o.zoomWindow.height()+2*o.options.borderSize),o.windowOffsetLeft=0;break;case 14:o.options.zoomWindowHeight>o.nzHeight&&(o.windowOffsetTop=-1*(o.zoomWindow.height()+2*o.options.borderSize),o.windowOffsetLeft=-1*(o.options.zoomWindowWidth/2-o.nzWidth/2+2*o.options.borderSize));break;case 15:o.windowOffsetTop=-1*(o.zoomWindow.height()+2*o.options.borderSize),o.windowOffsetLeft=o.nzWidth-o.zoomWindow.width()-2*o.options.borderSize;break;case 16:o.windowOffsetTop=-1*(o.zoomWindow.height()+2*o.options.borderSize),o.windowOffsetLeft=o.nzWidth;break;default:o.windowOffsetTop=o.options.zoomWindowOffety,o.windowOffsetLeft=o.nzWidth}o.isWindowSet=!0,o.windowOffsetTop+=o.options.zoomWindowOffety,o.windowOffsetLeft+=o.options.zoomWindowOffetx,o.zoomWindow.css({top:o.windowOffsetTop}),o.zoomWindow.css({left:o.windowOffsetLeft}),"inner"==o.options.zoomType&&(o.zoomWindow.css({top:0}),o.zoomWindow.css({left:0})),o.windowLeftPos=String(-1*((t.pageX-o.nzOffset.left)*o.widthRatio-o.zoomWindow.width()/2)),o.windowTopPos=String(-1*((t.pageY-o.nzOffset.top)*o.heightRatio-o.zoomWindow.height()/2)),o.Etoppos&&(o.windowTopPos=0),o.Eloppos&&(o.windowLeftPos=0),o.Eboppos&&(o.windowTopPos=-1*(o.largeHeight/o.currentZoomLevel-o.zoomWindow.height())),o.Eroppos&&(o.windowLeftPos=-1*(o.largeWidth/o.currentZoomLevel-o.zoomWindow.width())),o.fullheight&&(o.windowTopPos=0),o.fullwidth&&(o.windowLeftPos=0),"window"!=o.options.zoomType&&"inner"!=o.options.zoomType||(1==o.zoomLock&&(1>=o.widthRatio&&(o.windowLeftPos=0),1>=o.heightRatio&&(o.windowTopPos=0)),o.largeHeight<o.options.zoomWindowHeight&&(o.windowTopPos=0),o.largeWidth<o.options.zoomWindowWidth&&(o.windowLeftPos=0),o.options.easing?(o.xp||(o.xp=0),o.yp||(o.yp=0),o.loop||(o.loop=setInterval((function(){o.xp+=(o.windowLeftPos-o.xp)/o.options.easingAmount,o.yp+=(o.windowTopPos-o.yp)/o.options.easingAmount,o.scrollingLock?(clearInterval(o.loop),o.xp=o.windowLeftPos,o.yp=o.windowTopPos,o.xp=-1*((t.pageX-o.nzOffset.left)*o.widthRatio-o.zoomWindow.width()/2),o.yp=-1*((t.pageY-o.nzOffset.top)*o.heightRatio-o.zoomWindow.height()/2),o.changeBgSize&&(o.nzHeight>o.nzWidth?("lens"==o.options.zoomType&&o.zoomLens.css({"background-size":o.largeWidth/o.newvalueheight+"px "+o.largeHeight/o.newvalueheight+"px"}),o.zoomWindow.css({"background-size":o.largeWidth/o.newvalueheight+"px "+o.largeHeight/o.newvalueheight+"px"})):("lens"!=o.options.zoomType&&o.zoomLens.css({"background-size":o.largeWidth/o.newvaluewidth+"px "+o.largeHeight/o.newvalueheight+"px"}),o.zoomWindow.css({"background-size":o.largeWidth/o.newvaluewidth+"px "+o.largeHeight/o.newvaluewidth+"px"})),o.changeBgSize=!1),o.zoomWindow.css({backgroundPosition:o.windowLeftPos+"px "+o.windowTopPos+"px"}),o.scrollingLock=!1,o.loop=!1):(o.changeBgSize&&(o.nzHeight>o.nzWidth?("lens"==o.options.zoomType&&o.zoomLens.css({"background-size":o.largeWidth/o.newvalueheight+"px "+o.largeHeight/o.newvalueheight+"px"}),o.zoomWindow.css({"background-size":o.largeWidth/o.newvalueheight+"px "+o.largeHeight/o.newvalueheight+"px"})):("lens"!=o.options.zoomType&&o.zoomLens.css({"background-size":o.largeWidth/o.newvaluewidth+"px "+o.largeHeight/o.newvaluewidth+"px"}),o.zoomWindow.css({"background-size":o.largeWidth/o.newvaluewidth+"px "+o.largeHeight/o.newvaluewidth+"px"})),o.changeBgSize=!1),o.zoomWindow.css({backgroundPosition:o.xp+"px "+o.yp+"px"}))}),16))):(o.changeBgSize&&(o.nzHeight>o.nzWidth?("lens"==o.options.zoomType&&o.zoomLens.css({"background-size":o.largeWidth/o.newvalueheight+"px "+o.largeHeight/o.newvalueheight+"px"}),o.zoomWindow.css({"background-size":o.largeWidth/o.newvalueheight+"px "+o.largeHeight/o.newvalueheight+"px"})):("lens"==o.options.zoomType&&o.zoomLens.css({"background-size":o.largeWidth/o.newvaluewidth+"px "+o.largeHeight/o.newvaluewidth+"px"}),o.largeHeight/o.newvaluewidth<o.options.zoomWindowHeight?o.zoomWindow.css({"background-size":o.largeWidth/o.newvaluewidth+"px "+o.largeHeight/o.newvaluewidth+"px"}):o.zoomWindow.css({"background-size":o.largeWidth/o.newvalueheight+"px "+o.largeHeight/o.newvalueheight+"px"})),o.changeBgSize=!1),o.zoomWindow.css({backgroundPosition:o.windowLeftPos+"px "+o.windowTopPos+"px"})))},setTintPosition:function(e){this.nzOffset=this.$elem.offset(),this.tintpos=String(-1*(e.pageX-this.nzOffset.left-this.zoomLens.width()/2)),this.tintposy=String(-1*(e.pageY-this.nzOffset.top-this.zoomLens.height()/2)),this.Etoppos&&(this.tintposy=0),this.Eloppos&&(this.tintpos=0),this.Eboppos&&(this.tintposy=-1*(this.nzHeight-this.zoomLens.height()-2*this.options.lensBorderSize)),this.Eroppos&&(this.tintpos=-1*(this.nzWidth-this.zoomLens.width()-2*this.options.lensBorderSize)),this.options.tint&&(this.fullheight&&(this.tintposy=0),this.fullwidth&&(this.tintpos=0),this.zoomTintImage.css({left:this.tintpos+"px"}),this.zoomTintImage.css({top:this.tintposy+"px"}))},swaptheimage:function(t,o){var i=this,n=new Image;i.options.loadingIcon&&(i.spinner=e("<div style=\"background: url('"+i.options.loadingIcon+"') no-repeat center;height:"+i.nzHeight+"px;width:"+i.nzWidth+'px;z-index: 2000;position: absolute; background-position: center center;"></div>'),i.$elem.after(i.spinner)),i.options.onImageSwap(i.$elem),n.onload=function(){i.largeWidth=n.width,i.largeHeight=n.height,i.zoomImage=o,i.zoomWindow.css({"background-size":i.largeWidth+"px "+i.largeHeight+"px"}),i.zoomWindow.css({"background-size":i.largeWidth+"px "+i.largeHeight+"px"}),i.swapAction(t,o)},n.src=o},swapAction:function(t,o){var i=this,n=new Image;if(n.onload=function(){i.nzHeight=n.height,i.nzWidth=n.width,i.options.onImageSwapComplete(i.$elem),i.doneCallback()},n.src=t,i.currentZoomLevel=i.options.zoomLevel,i.options.maxZoomLevel=!1,"lens"==i.options.zoomType&&i.zoomLens.css({backgroundImage:"url('"+o+"')"}),"window"==i.options.zoomType&&i.zoomWindow.css({backgroundImage:"url('"+o+"')"}),"inner"==i.options.zoomType&&i.zoomWindow.css({backgroundImage:"url('"+o+"')"}),i.currentImage=o,i.options.imageCrossfade){var s=i.$elem,a=s.clone();i.$elem.attr("src",t),i.$elem.after(a),a.stop(!0).fadeOut(i.options.imageCrossfade,(function(){e(this).remove()})),i.$elem.width("auto").removeAttr("width"),i.$elem.height("auto").removeAttr("height"),s.fadeIn(i.options.imageCrossfade),i.options.tint&&"inner"!=i.options.zoomType&&(a=(s=i.zoomTintImage).clone(),i.zoomTintImage.attr("src",o),i.zoomTintImage.after(a),a.stop(!0).fadeOut(i.options.imageCrossfade,(function(){e(this).remove()})),s.fadeIn(i.options.imageCrossfade),i.zoomTint.css({height:i.$elem.height()}),i.zoomTint.css({width:i.$elem.width()})),i.zoomContainer.css("height",i.$elem.height()),i.zoomContainer.css("width",i.$elem.width()),"inner"!=i.options.zoomType||i.options.constrainType||(i.zoomWrap.parent().css("height",i.$elem.height()),i.zoomWrap.parent().css("width",i.$elem.width()),i.zoomWindow.css("height",i.$elem.height()),i.zoomWindow.css("width",i.$elem.width()))}else i.$elem.attr("src",t),i.options.tint&&(i.zoomTintImage.attr("src",o),i.zoomTintImage.attr("height",i.$elem.height()),i.zoomTintImage.css({height:i.$elem.height()}),i.zoomTint.css({height:i.$elem.height()})),i.zoomContainer.css("height",i.$elem.height()),i.zoomContainer.css("width",i.$elem.width());i.options.imageCrossfade&&(i.zoomWrap.css("height",i.$elem.height()),i.zoomWrap.css("width",i.$elem.width())),i.options.constrainType&&("height"==i.options.constrainType&&(i.zoomContainer.css("height",i.options.constrainSize),i.zoomContainer.css("width","auto"),i.options.imageCrossfade?(i.zoomWrap.css("height",i.options.constrainSize),i.zoomWrap.css("width","auto"),i.constwidth=i.zoomWrap.width()):(i.$elem.css("height",i.options.constrainSize),i.$elem.css("width","auto"),i.constwidth=i.$elem.width()),"inner"==i.options.zoomType&&(i.zoomWrap.parent().css("height",i.options.constrainSize),i.zoomWrap.parent().css("width",i.constwidth),i.zoomWindow.css("height",i.options.constrainSize),i.zoomWindow.css("width",i.constwidth)),i.options.tint&&(i.tintContainer.css("height",i.options.constrainSize),i.tintContainer.css("width",i.constwidth),i.zoomTint.css("height",i.options.constrainSize),i.zoomTint.css("width",i.constwidth),i.zoomTintImage.css("height",i.options.constrainSize),i.zoomTintImage.css("width",i.constwidth))),"width"==i.options.constrainType&&(i.zoomContainer.css("height","auto"),i.zoomContainer.css("width",i.options.constrainSize),i.options.imageCrossfade?(i.zoomWrap.css("height","auto"),i.zoomWrap.css("width",i.options.constrainSize),i.constheight=i.zoomWrap.height()):(i.$elem.css("height","auto"),i.$elem.css("width",i.options.constrainSize),i.constheight=i.$elem.height()),"inner"==i.options.zoomType&&(i.zoomWrap.parent().css("height",i.constheight),i.zoomWrap.parent().css("width",i.options.constrainSize),i.zoomWindow.css("height",i.constheight),i.zoomWindow.css("width",i.options.constrainSize)),i.options.tint&&(i.tintContainer.css("height",i.constheight),i.tintContainer.css("width",i.options.constrainSize),i.zoomTint.css("height",i.constheight),i.zoomTint.css("width",i.options.constrainSize),i.zoomTintImage.css("height",i.constheight),i.zoomTintImage.css("width",i.options.constrainSize))))},doneCallback:function(){this.options.loadingIcon&&this.spinner.hide(),this.nzOffset=this.$elem.offset(),this.nzWidth=this.$elem.width(),this.nzHeight=this.$elem.height(),this.currentZoomLevel=this.options.zoomLevel,this.widthRatio=this.largeWidth/this.nzWidth,this.heightRatio=this.largeHeight/this.nzHeight,"window"==this.options.zoomType&&(lensHeight=this.nzHeight<this.options.zoomWindowWidth/this.widthRatio?this.nzHeight:String(this.options.zoomWindowHeight/this.heightRatio),lensWidth=this.options.zoomWindowWidth<this.options.zoomWindowWidth?this.nzWidth:this.options.zoomWindowWidth/this.widthRatio,this.zoomLens&&(this.zoomLens.css("width",lensWidth),this.zoomLens.css("height",lensHeight)))},getCurrentImage:function(){return this.zoomImage},getGalleryList:function(){var t=this;return t.gallerylist=[],t.options.gallery?e("#"+t.options.gallery+" a").each((function(){var o="";e(this).data("zoom-image")?o=e(this).data("zoom-image"):e(this).data("image")&&(o=e(this).data("image")),o==t.zoomImage?t.gallerylist.unshift({href:""+o,title:e(this).find("img").attr("title")}):t.gallerylist.push({href:""+o,title:e(this).find("img").attr("title")})})):t.gallerylist.push({href:""+t.zoomImage,title:e(this).find("img").attr("title")}),t.gallerylist},changeZoomLevel:function(e){this.scrollingLock=!0,this.newvalue=parseFloat(e).toFixed(2),newvalue=parseFloat(e).toFixed(2),maxheightnewvalue=this.largeHeight/(this.options.zoomWindowHeight/this.nzHeight*this.nzHeight),maxwidthtnewvalue=this.largeWidth/(this.options.zoomWindowWidth/this.nzWidth*this.nzWidth),"inner"!=this.options.zoomType&&(maxheightnewvalue<=newvalue?(this.heightRatio=this.largeHeight/maxheightnewvalue/this.nzHeight,this.newvalueheight=maxheightnewvalue,this.fullheight=!0):(this.heightRatio=this.largeHeight/newvalue/this.nzHeight,this.newvalueheight=newvalue,this.fullheight=!1),maxwidthtnewvalue<=newvalue?(this.widthRatio=this.largeWidth/maxwidthtnewvalue/this.nzWidth,this.newvaluewidth=maxwidthtnewvalue,this.fullwidth=!0):(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,this.newvaluewidth=newvalue,this.fullwidth=!1),"lens"==this.options.zoomType&&(maxheightnewvalue<=newvalue?(this.fullwidth=!0,this.newvaluewidth=maxheightnewvalue):(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,this.newvaluewidth=newvalue,this.fullwidth=!1))),"inner"==this.options.zoomType&&(maxheightnewvalue=parseFloat(this.largeHeight/this.nzHeight).toFixed(2),maxwidthtnewvalue=parseFloat(this.largeWidth/this.nzWidth).toFixed(2),newvalue>maxheightnewvalue&&(newvalue=maxheightnewvalue),newvalue>maxwidthtnewvalue&&(newvalue=maxwidthtnewvalue),maxheightnewvalue<=newvalue?(this.heightRatio=this.largeHeight/newvalue/this.nzHeight,this.newvalueheight=newvalue>maxheightnewvalue?maxheightnewvalue:newvalue,this.fullheight=!0):(this.heightRatio=this.largeHeight/newvalue/this.nzHeight,this.newvalueheight=newvalue>maxheightnewvalue?maxheightnewvalue:newvalue,this.fullheight=!1),maxwidthtnewvalue<=newvalue?(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,this.newvaluewidth=newvalue>maxwidthtnewvalue?maxwidthtnewvalue:newvalue,this.fullwidth=!0):(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,this.newvaluewidth=newvalue,this.fullwidth=!1)),scrcontinue=!1,"inner"==this.options.zoomType&&(this.nzWidth>this.nzHeight&&(this.newvaluewidth<=maxwidthtnewvalue?scrcontinue=!0:(scrcontinue=!1,this.fullwidth=this.fullheight=!0)),this.nzHeight>this.nzWidth&&(this.newvaluewidth<=maxwidthtnewvalue?scrcontinue=!0:(scrcontinue=!1,this.fullwidth=this.fullheight=!0))),"inner"!=this.options.zoomType&&(scrcontinue=!0),scrcontinue&&(this.zoomLock=0,this.changeZoom=!0,this.options.zoomWindowHeight/this.heightRatio<=this.nzHeight&&(this.currentZoomLevel=this.newvalueheight,"lens"!=this.options.zoomType&&"inner"!=this.options.zoomType&&(this.changeBgSize=!0,this.zoomLens.css({height:String(this.options.zoomWindowHeight/this.heightRatio)+"px"})),"lens"==this.options.zoomType||"inner"==this.options.zoomType)&&(this.changeBgSize=!0),this.options.zoomWindowWidth/this.widthRatio<=this.nzWidth&&("inner"!=this.options.zoomType&&this.newvaluewidth>this.newvalueheight&&(this.currentZoomLevel=this.newvaluewidth),"lens"!=this.options.zoomType&&"inner"!=this.options.zoomType&&(this.changeBgSize=!0,this.zoomLens.css({width:String(this.options.zoomWindowWidth/this.widthRatio)+"px"})),"lens"==this.options.zoomType||"inner"==this.options.zoomType)&&(this.changeBgSize=!0),"inner"==this.options.zoomType&&(this.changeBgSize=!0,this.nzWidth>this.nzHeight&&(this.currentZoomLevel=this.newvaluewidth),this.nzHeight>this.nzWidth&&(this.currentZoomLevel=this.newvaluewidth))),this.setPosition(this.currentLoc)},closeAll:function(){self.zoomWindow&&self.zoomWindow.hide(),self.zoomLens&&self.zoomLens.hide(),self.zoomTint&&self.zoomTint.hide()},changeState:function(e){"enable"==e&&(this.options.zoomEnabled=!0),"disable"==e&&(this.options.zoomEnabled=!1)}};e.fn.elevateZoom=function(t){return this.each((function(){var o=Object.create(n);o.init(t,this),e.data(this,"elevateZoom",o)}))},e.fn.elevateZoom.options={zoomActivation:"hover",zoomEnabled:!0,preloading:1,zoomLevel:1,scrollZoom:!1,scrollZoomIncrement:.1,minZoomLevel:!1,maxZoomLevel:!1,easing:!1,easingAmount:12,lensSize:200,zoomWindowWidth:400,zoomWindowHeight:400,zoomWindowOffetx:0,zoomWindowOffety:0,zoomWindowPosition:1,zoomWindowBgColour:"#fff",lensFadeIn:!1,lensFadeOut:!1,debug:!1,zoomWindowFadeIn:!1,zoomWindowFadeOut:!1,zoomWindowAlwaysShow:!1,zoomTintFadeIn:!1,zoomTintFadeOut:!1,borderSize:4,showLens:!0,borderColour:"#888",lensBorderSize:1,lensBorderColour:"#000",lensShape:"square",zoomType:"window",containLensZoom:!1,lensColour:"white",lensOpacity:.4,lenszoom:!1,tint:!1,tintColour:"#333",tintOpacity:.4,gallery:!1,galleryActiveClass:"zoomGalleryActive",imageCrossfade:!1,constrainType:!1,constrainSize:!1,loadingIcon:!1,cursor:"default",responsive:!0,onComplete:e.noop,onZoomedImageLoaded:function(){},onImageSwap:e.noop,onImageSwapComplete:e.noop}}(jQuery,window,document),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipe=t()}(this,(function(){"use strict";return function(e,t,o,i){var n={features:null,bind:function(e,t,o,i){var n=(i?"remove":"add")+"EventListener";t=t.split(" ");for(var s=0;s<t.length;s++)t[s]&&e[n](t[s],o,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){var o=document.createElement(t||"div");return e&&(o.className=e),o},getScrollY:function(){var e=window.pageYOffset;return void 0!==e?e:document.documentElement.scrollTop},unbind:function(e,t,o){n.bind(e,t,o,!0)},removeClass:function(e,t){var o=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(o," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){n.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(e,t){for(var o=e.firstChild;o;){if(n.hasClass(o,t))return o;o=o.nextSibling}},arraySearch:function(e,t,o){for(var i=e.length;i--;)if(e[i][o]===t)return i;return-1},extend:function(e,t,o){for(var i in t)if(t.hasOwnProperty(i)){if(o&&e.hasOwnProperty(i))continue;e[i]=t[i]}},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(n.features)return n.features;var e=n.createEl().style,t="",o={};if(o.oldIE=document.all&&!document.addEventListener,o.touch="ontouchstart"in window,window.requestAnimationFrame&&(o.raf=window.requestAnimationFrame,o.caf=window.cancelAnimationFrame),o.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!o.pointerEvent){var i=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var s=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);s&&s.length>0&&((s=parseInt(s[1],10))>=1&&8>s&&(o.isOldIOSPhone=!0))}var a=i.match(/Android\s([0-9\.]*)/),r=a?a[1]:0;(r=parseFloat(r))>=1&&(4.4>r&&(o.isOldAndroid=!0),o.androidVersion=r),o.isMobileOpera=/opera mini|opera mobi/i.test(i)}for(var l,h,d=["transform","perspective","animationName"],c=["","webkit","Moz","ms","O"],p=0;4>p;p++){t=c[p];for(var u=0;3>u;u++)l=d[u],h=t+(t?l.charAt(0).toUpperCase()+l.slice(1):l),!o[l]&&h in e&&(o[l]=h);t&&!o.raf&&(t=t.toLowerCase(),o.raf=window[t+"RequestAnimationFrame"],o.raf&&(o.caf=window[t+"CancelAnimationFrame"]||window[t+"CancelRequestAnimationFrame"]))}if(!o.raf){var m=0;o.raf=function(e){var t=(new Date).getTime(),o=Math.max(0,16-(t-m)),i=window.setTimeout((function(){e(t+o)}),o);return m=t+o,i},o.caf=function(e){clearTimeout(e)}}return o.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,n.features=o,o}};n.detectFeatures(),n.features.oldIE&&(n.bind=function(e,t,o,i){t=t.split(" ");for(var n,s=(i?"detach":"attach")+"Event",a=function(){o.handleEvent.call(o)},r=0;r<t.length;r++)if(n=t[r])if("object"==typeof o&&o.handleEvent){if(i){if(!o["oldIE"+n])return!1}else o["oldIE"+n]=a;e[s]("on"+n,o["oldIE"+n])}else e[s]("on"+n,o)});var s=this,a={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return"A"===e.tagName},getDoubleTapZoom:function(e,t){return e||t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};n.extend(a,i);var r,l,h,d,c,p,u,m,f,w,g,z,v,x,y,b,W,T,S,L,C,I,k,O,H,E,P,R,A,F,Z,D,_,M,$,B,Y,N,X,U,K,G,q,j,V,Q,J,ee,te,oe,ie,ne,se,ae,re,le={x:0,y:0},he={x:0,y:0},de={x:0,y:0},ce={},pe=0,ue={},me={x:0,y:0},fe=0,we=!0,ge=[],ze={},ve=!1,xe=function(e,t){n.extend(s,t.publicMethods),ge.push(e)},ye=function(e){var t=Mt();return e>t-1?e-t:0>e?t+e:e},be={},We=function(e,t){return be[e]||(be[e]=[]),be[e].push(t)},Te=function(e){var t=be[e];if(t){var o=Array.prototype.slice.call(arguments);o.shift();for(var i=0;i<t.length;i++)t[i].apply(s,o)}},Se=function(){return(new Date).getTime()},Le=function(e){se=e,s.bg.style.opacity=e*a.bgOpacity},Ce=function(e,t,o,i,n){(!ve||n&&n!==s.currItem)&&(i/=n?n.fitRatio:s.currItem.fitRatio),e[I]=z+t+"px, "+o+"px"+v+" scale("+i+")"},Ie=function(e){ee&&(e&&(w>s.currItem.fitRatio?ve||(qt(s.currItem,!1,!0),ve=!0):ve&&(qt(s.currItem),ve=!1)),Ce(ee,de.x,de.y,w))},ke=function(e){e.container&&Ce(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},Oe=function(e,t){t[I]=z+e+"px, 0px"+v},He=function(e,t){if(!a.loop&&t){var o=d+(me.x*pe-e)/me.x,i=Math.round(e-ht.x);(0>o&&i>0||o>=Mt()-1&&0>i)&&(e=ht.x+i*a.mainScrollEndFriction)}ht.x=e,Oe(e,c)},Ee=function(e,t){var o=dt[e]-ue[e];return he[e]+le[e]+o-o*(t/g)},Pe=function(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)},Re=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)},Ae=null,Fe=function(){Ae&&(n.unbind(document,"mousemove",Fe),n.addClass(e,"pswp--has_mouse"),a.mouseUsed=!0,Te("mouseUsed")),Ae=setTimeout((function(){Ae=null}),100)},Ze=function(e,t){var o=Xt(s.currItem,ce,e);return t&&(J=o),o},De=function(e){return e||(e=s.currItem),e.initialZoomLevel},_e=function(e){return e||(e=s.currItem),e.w>0?a.maxSpreadZoom:1},Me=function(e,t,o,i){return i===s.currItem.initialZoomLevel?(o[e]=s.currItem.initialPosition[e],!0):(o[e]=Ee(e,i),o[e]>t.min[e]?(o[e]=t.min[e],!0):o[e]<t.max[e]&&(o[e]=t.max[e],!0))},$e=function(e){var t="";a.escKey&&27===e.keyCode?t="close":a.arrowKeys&&(37===e.keyCode?t="prev":39===e.keyCode&&(t="next")),t&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,s[t]()))},Be=function(e){e&&(K||U||te||B)&&(e.preventDefault(),e.stopPropagation())},Ye=function(){s.setScrollOffset(0,n.getScrollY())},Ne={},Xe=0,Ue=function(e){Ne[e]&&(Ne[e].raf&&E(Ne[e].raf),Xe--,delete Ne[e])},Ke=function(e){Ne[e]&&Ue(e),Ne[e]||(Xe++,Ne[e]={})},Ge=function(){for(var e in Ne)Ne.hasOwnProperty(e)&&Ue(e)},qe=function(e,t,o,i,n,s,a){var r,l=Se();Ke(e);var h=function(){if(Ne[e]){if((r=Se()-l)>=i)return Ue(e),s(o),void(a&&a());s((o-t)*n(r/i)+t),Ne[e].raf=H(h)}};h()},je={shout:Te,listen:We,viewportSize:ce,options:a,isMainScrollAnimating:function(){return te},getZoomLevel:function(){return w},getCurrentIndex:function(){return d},isDragging:function(){return N},isZooming:function(){return V},setScrollOffset:function(e,t){ue.x=e,F=ue.y=t,Te("updateScrollOffset",ue)},applyZoomPan:function(e,t,o,i){de.x=t,de.y=o,w=e,Ie(i)},init:function(){if(!r&&!l){var o;s.framework=n,s.template=e,s.bg=n.getChildByClass(e,"pswp__bg"),P=e.className,r=!0,Z=n.detectFeatures(),H=Z.raf,E=Z.caf,I=Z.transform,A=Z.oldIE,s.scrollWrap=n.getChildByClass(e,"pswp__scroll-wrap"),s.container=n.getChildByClass(s.scrollWrap,"pswp__container"),c=s.container.style,s.itemHolders=b=[{el:s.container.children[0],wrap:0,index:-1},{el:s.container.children[1],wrap:0,index:-1},{el:s.container.children[2],wrap:0,index:-1}],b[0].el.style.display=b[2].el.style.display="none",function(){if(I){var t=Z.perspective&&!O;return z="translate"+(t?"3d(":"("),void(v=Z.perspective?", 0px)":")")}I="left",n.addClass(e,"pswp--ie"),Oe=function(e,t){t.left=e+"px"},ke=function(e){var t=e.fitRatio>1?1:e.fitRatio,o=e.container.style,i=t*e.w,n=t*e.h;o.width=i+"px",o.height=n+"px",o.left=e.initialPosition.x+"px",o.top=e.initialPosition.y+"px"},Ie=function(){if(ee){var e=ee,t=s.currItem,o=t.fitRatio>1?1:t.fitRatio,i=o*t.w,n=o*t.h;e.width=i+"px",e.height=n+"px",e.left=de.x+"px",e.top=de.y+"px"}}}(),f={resize:s.updateSize,scroll:Ye,keydown:$e,click:Be};var i=Z.isOldIOSPhone||Z.isOldAndroid||Z.isMobileOpera;for(Z.animationName&&Z.transform&&!i||(a.showAnimationDuration=a.hideAnimationDuration=0),o=0;o<ge.length;o++)s["init"+ge[o]]();if(t)(s.ui=new t(s,n)).init();Te("firstUpdate"),d=d||a.index||0,(isNaN(d)||0>d||d>=Mt())&&(d=0),s.currItem=_t(d),(Z.isOldIOSPhone||Z.isOldAndroid)&&(we=!1),e.setAttribute("aria-hidden","false"),a.modal&&(we?e.style.position="fixed":(e.style.position="absolute",e.style.top=n.getScrollY()+"px")),void 0===F&&(Te("initialLayout"),F=R=n.getScrollY());var h="pswp--open ";for(a.mainClass&&(h+=a.mainClass+" "),a.showHideOpacity&&(h+="pswp--animate_opacity "),h+=O?"pswp--touch":"pswp--notouch",h+=Z.animationName?" pswp--css_animation":"",h+=Z.svg?" pswp--svg":"",n.addClass(e,h),s.updateSize(),p=-1,fe=null,o=0;3>o;o++)Oe((o+p)*me.x,b[o].el.style);A||n.bind(s.scrollWrap,m,s),We("initialZoomInEnd",(function(){s.setContent(b[0],d-1),s.setContent(b[2],d+1),b[0].el.style.display=b[2].el.style.display="block",a.focus&&e.focus(),n.bind(document,"keydown",s),Z.transform&&n.bind(s.scrollWrap,"click",s),a.mouseUsed||n.bind(document,"mousemove",Fe),n.bind(window,"resize scroll",s),Te("bindEvents")})),s.setContent(b[1],d),s.updateCurrItem(),Te("afterInit"),we||(x=setInterval((function(){Xe||N||V||w!==s.currItem.initialZoomLevel||s.updateSize()}),1e3)),n.addClass(e,"pswp--visible")}},close:function(){r&&(r=!1,l=!0,Te("close"),n.unbind(window,"resize",s),n.unbind(window,"scroll",f.scroll),n.unbind(document,"keydown",s),n.unbind(document,"mousemove",Fe),Z.transform&&n.unbind(s.scrollWrap,"click",s),N&&n.unbind(window,u,s),Te("unbindEvents"),$t(s.currItem,null,!0,s.destroy))},destroy:function(){Te("destroy"),At&&clearTimeout(At),e.setAttribute("aria-hidden","true"),e.className=P,x&&clearInterval(x),n.unbind(s.scrollWrap,m,s),n.unbind(window,"scroll",s),ut(),Ge(),be=null},panTo:function(e,t,o){o||(e>J.min.x?e=J.min.x:e<J.max.x&&(e=J.max.x),t>J.min.y?t=J.min.y:t<J.max.y&&(t=J.max.y)),de.x=e,de.y=t,Ie()},handleEvent:function(e){e=e||window.event,f[e.type]&&f[e.type](e)},goTo:function(e){var t=(e=ye(e))-d;fe=t,d=e,s.currItem=_t(d),pe-=t,He(me.x*pe),Ge(),te=!1,s.updateCurrItem()},next:function(){s.goTo(d+1)},prev:function(){s.goTo(d-1)},updateCurrZoomItem:function(e){if(e&&Te("beforeChange",0),b[1].el.children.length){var t=b[1].el.children[0];ee=n.hasClass(t,"pswp__zoom-wrap")?t.style:null}else ee=null;J=s.currItem.bounds,g=w=s.currItem.initialZoomLevel,de.x=J.center.x,de.y=J.center.y,e&&Te("afterChange")},invalidateCurrItems:function(){y=!0;for(var e=0;3>e;e++)b[e].item&&(b[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(0!==fe){var t,o=Math.abs(fe);if(!(e&&2>o)){s.currItem=_t(d),ve=!1,Te("beforeChange",fe),o>=3&&(p+=fe+(fe>0?-3:3),o=3);for(var i=0;o>i;i++)fe>0?(t=b.shift(),b[2]=t,p++,Oe((p+2)*me.x,t.el.style),s.setContent(t,d-o+i+1+1)):(t=b.pop(),b.unshift(t),p--,Oe(p*me.x,t.el.style),s.setContent(t,d+o-i-1-1));if(ee&&1===Math.abs(fe)){var n=_t(W);n.initialZoomLevel!==w&&(Xt(n,ce),qt(n),ke(n))}fe=0,s.updateCurrZoomItem(),W=d,Te("afterChange")}}},updateSize:function(t){if(!we&&a.modal){var o=n.getScrollY();if(F!==o&&(e.style.top=o+"px",F=o),!t&&ze.x===window.innerWidth&&ze.y===window.innerHeight)return;ze.x=window.innerWidth,ze.y=window.innerHeight,e.style.height=ze.y+"px"}if(ce.x=s.scrollWrap.clientWidth,ce.y=s.scrollWrap.clientHeight,Ye(),me.x=ce.x+Math.round(ce.x*a.spacing),me.y=ce.y,He(me.x*pe),Te("beforeResize"),void 0!==p){for(var i,r,l,h=0;3>h;h++)i=b[h],Oe((h+p)*me.x,i.el.style),l=d+h-1,a.loop&&Mt()>2&&(l=ye(l)),(r=_t(l))&&(y||r.needsUpdate||!r.bounds)?(s.cleanSlide(r),s.setContent(i,l),1===h&&(s.currItem=r,s.updateCurrZoomItem(!0)),r.needsUpdate=!1):-1===i.index&&l>=0&&s.setContent(i,l),r&&r.container&&(Xt(r,ce),qt(r),ke(r));y=!1}g=w=s.currItem.initialZoomLevel,(J=s.currItem.bounds)&&(de.x=J.center.x,de.y=J.center.y,Ie(!0)),Te("resize")},zoomTo:function(e,t,o,i,s){t&&(g=w,dt.x=Math.abs(t.x)-de.x,dt.y=Math.abs(t.y)-de.y,Pe(he,de));var a=Ze(e,!1),r={};Me("x",a,r,e),Me("y",a,r,e);var l=w,h=de.x,d=de.y;Re(r);var c=function(t){1===t?(w=e,de.x=r.x,de.y=r.y):(w=(e-l)*t+l,de.x=(r.x-h)*t+h,de.y=(r.y-d)*t+d),s&&s(t),Ie(1===t)};o?qe("customZoomTo",0,1,o,i||n.easing.sine.inOut,c):c(1)}},Ve={},Qe={},Je={},et={},tt={},ot=[],it={},nt=[],st={},at=0,rt={x:0,y:0},lt=0,ht={x:0,y:0},dt={x:0,y:0},ct={x:0,y:0},pt=function(e,t){return st.x=Math.abs(e.x-t.x),st.y=Math.abs(e.y-t.y),Math.sqrt(st.x*st.x+st.y*st.y)},ut=function(){G&&(E(G),G=null)},mt=function(){N&&(G=H(mt),It())},ft=function(e,t){return!(!e||e===document)&&(!(e.getAttribute("class")&&e.getAttribute("class").indexOf("pswp__scroll-wrap")>-1)&&(t(e)?e:ft(e.parentNode,t)))},wt={},gt=function(e,t){return wt.prevent=!ft(e.target,a.isClickableElement),Te("preventDragEvent",e,t,wt),wt.prevent},zt=function(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t},vt=function(e,t,o){o.x=.5*(e.x+t.x),o.y=.5*(e.y+t.y)},xt=function(){var e=de.y-s.currItem.initialPosition.y;return 1-Math.abs(e/(ce.y/2))},yt={},bt={},Wt=[],Tt=function(e){for(;Wt.length>0;)Wt.pop();return k?(re=0,ot.forEach((function(e){0===re?Wt[0]=e:1===re&&(Wt[1]=e),re++}))):e.type.indexOf("touch")>-1?e.touches&&e.touches.length>0&&(Wt[0]=zt(e.touches[0],yt),e.touches.length>1&&(Wt[1]=zt(e.touches[1],bt))):(yt.x=e.pageX,yt.y=e.pageY,yt.id="",Wt[0]=yt),Wt},St=function(e,t){var o,i,n,r,l=de[e]+t[e],h=t[e]>0,d=ht.x+t.x,c=ht.x-it.x;return o=l>J.min[e]||l<J.max[e]?a.panEndFriction:1,l=de[e]+t[e]*o,!a.allowPanToNext&&w!==s.currItem.initialZoomLevel||(ee?"h"!==oe||"x"!==e||U||(h?(l>J.min[e]&&(o=a.panEndFriction,J.min[e]-l,i=J.min[e]-he[e]),(0>=i||0>c)&&Mt()>1?(r=d,0>c&&d>it.x&&(r=it.x)):J.min.x!==J.max.x&&(n=l)):(l<J.max[e]&&(o=a.panEndFriction,l-J.max[e],i=he[e]-J.max[e]),(0>=i||c>0)&&Mt()>1?(r=d,c>0&&d<it.x&&(r=it.x)):J.min.x!==J.max.x&&(n=l))):r=d,"x"!==e)?void(te||q||w>s.currItem.fitRatio&&(de[e]+=t[e]*o)):(void 0!==r&&(He(r,!0),q=r!==it.x),J.min.x!==J.max.x&&(void 0!==n?de.x=n:q||(de.x+=t.x*o)),void 0!==r)},Lt=function(e){if(!("mousedown"===e.type&&e.button>0)){if(Dt)return void e.preventDefault();if(!Y||"mousedown"!==e.type){if(gt(e,!0)&&e.preventDefault(),Te("pointerDown"),k){var t=n.arraySearch(ot,e.pointerId,"id");0>t&&(t=ot.length),ot[t]={x:e.pageX,y:e.pageY,id:e.pointerId}}var o=Tt(e),i=o.length;j=null,Ge(),N&&1!==i||(N=ie=!0,n.bind(window,u,s),$=ae=ne=B=q=K=X=U=!1,oe=null,Te("firstTouchStart",o),Pe(he,de),le.x=le.y=0,Pe(et,o[0]),Pe(tt,et),it.x=me.x*pe,nt=[{x:et.x,y:et.y}],_=D=Se(),Ze(w,!0),ut(),mt()),!V&&i>1&&!te&&!q&&(g=w,U=!1,V=X=!0,le.y=le.x=0,Pe(he,de),Pe(Ve,o[0]),Pe(Qe,o[1]),vt(Ve,Qe,ct),dt.x=Math.abs(ct.x)-de.x,dt.y=Math.abs(ct.y)-de.y,Q=pt(Ve,Qe))}}},Ct=function(e){if(e.preventDefault(),k){var t=n.arraySearch(ot,e.pointerId,"id");if(t>-1){var o=ot[t];o.x=e.pageX,o.y=e.pageY}}if(N){var i=Tt(e);if(oe||K||V)j=i;else if(ht.x!==me.x*pe)oe="h";else{var s=Math.abs(i[0].x-et.x)-Math.abs(i[0].y-et.y);Math.abs(s)>=10&&(oe=s>0?"h":"v",j=i)}}},It=function(){if(j){var e=j.length;if(0!==e)if(Pe(Ve,j[0]),Je.x=Ve.x-et.x,Je.y=Ve.y-et.y,V&&e>1){if(et.x=Ve.x,et.y=Ve.y,!Je.x&&!Je.y&&function(e,t){return e.x===t.x&&e.y===t.y}(j[1],Qe))return;Pe(Qe,j[1]),U||(U=!0,Te("zoomGestureStarted"));var t=pt(Ve,Qe),o=Pt(t);o>s.currItem.initialZoomLevel+s.currItem.initialZoomLevel/15&&(ae=!0);var i=1,n=De(),r=_e();if(n>o)if(a.pinchToClose&&!ae&&g<=s.currItem.initialZoomLevel){var l=1-(n-o)/(n/1.2);Le(l),Te("onPinchClose",l),ne=!0}else(i=(n-o)/n)>1&&(i=1),o=n-i*(n/3);else o>r&&((i=(o-r)/(6*n))>1&&(i=1),o=r+i*n);0>i&&(i=0),t,vt(Ve,Qe,rt),le.x+=rt.x-ct.x,le.y+=rt.y-ct.y,Pe(ct,rt),de.x=Ee("x",o),de.y=Ee("y",o),$=o>w,w=o,Ie()}else{if(!oe)return;if(ie&&(ie=!1,Math.abs(Je.x)>=10&&(Je.x-=j[0].x-tt.x),Math.abs(Je.y)>=10&&(Je.y-=j[0].y-tt.y)),et.x=Ve.x,et.y=Ve.y,0===Je.x&&0===Je.y)return;if("v"===oe&&a.closeOnVerticalDrag&&"fit"===a.scaleMode&&w===s.currItem.initialZoomLevel){le.y+=Je.y,de.y+=Je.y;var h=xt();return B=!0,Te("onVerticalDrag",h),Le(h),void Ie()}(function(e,t,o){if(e-_>50){var i=nt.length>2?nt.shift():{};i.x=t,i.y=o,nt.push(i),_=e}})(Se(),Ve.x,Ve.y),K=!0,J=s.currItem.bounds,St("x",Je)||(St("y",Je),Re(de),Ie())}}},kt=function(e){if(Z.isOldAndroid){if(Y&&"mouseup"===e.type)return;e.type.indexOf("touch")>-1&&(clearTimeout(Y),Y=setTimeout((function(){Y=0}),600))}var t;if(Te("pointerUp"),gt(e,!1)&&e.preventDefault(),k){var o=n.arraySearch(ot,e.pointerId,"id");if(o>-1)if(t=ot.splice(o,1)[0],navigator.pointerEnabled)t.type=e.pointerType||"mouse";else{t.type={4:"mouse",2:"touch",3:"pen"}[e.pointerType],t.type||(t.type=e.pointerType||"mouse")}}var i,r=Tt(e),l=r.length;if("mouseup"===e.type&&(l=0),2===l)return j=null,!0;1===l&&Pe(tt,r[0]),0!==l||oe||te||(t||("mouseup"===e.type?t={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(t={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),Te("touchRelease",e,t));var h=-1;if(0===l&&(N=!1,n.unbind(window,u,s),ut(),V?h=0:-1!==lt&&(h=Se()-lt)),lt=1===l?Se():-1,i=-1!==h&&150>h?"zoom":"swipe",V&&2>l&&(V=!1,1===l&&(i="zoomPointerUp"),Te("zoomGestureEnded")),j=null,K||U||te||B)if(Ge(),M||(M=Ot()),M.calculateSwipeSpeed("x"),B){if(xt()<a.verticalDragRange)s.close();else{var d=de.y,c=se;qe("verticalDrag",0,1,300,n.easing.cubic.out,(function(e){de.y=(s.currItem.initialPosition.y-d)*e+d,Le((1-c)*e+c),Ie()})),Te("onVerticalDrag",1)}}else{if((q||te)&&0===l){if(Et(i,M))return;i="zoomPointerUp"}if(!te)return"swipe"!==i?void Rt():void(!q&&w>s.currItem.fitRatio&&Ht(M))}},Ot=function(){var e,t,o={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(i){nt.length>1?(e=Se()-_+50,t=nt[nt.length-2][i]):(e=Se()-D,t=tt[i]),o.lastFlickOffset[i]=et[i]-t,o.lastFlickDist[i]=Math.abs(o.lastFlickOffset[i]),o.lastFlickDist[i]>20?o.lastFlickSpeed[i]=o.lastFlickOffset[i]/e:o.lastFlickSpeed[i]=0,Math.abs(o.lastFlickSpeed[i])<.1&&(o.lastFlickSpeed[i]=0),o.slowDownRatio[i]=.95,o.slowDownRatioReverse[i]=1-o.slowDownRatio[i],o.speedDecelerationRatio[i]=1},calculateOverBoundsAnimOffset:function(e,t){o.backAnimStarted[e]||(de[e]>J.min[e]?o.backAnimDestination[e]=J.min[e]:de[e]<J.max[e]&&(o.backAnimDestination[e]=J.max[e]),void 0!==o.backAnimDestination[e]&&(o.slowDownRatio[e]=.7,o.slowDownRatioReverse[e]=1-o.slowDownRatio[e],o.speedDecelerationRatioAbs[e]<.05&&(o.lastFlickSpeed[e]=0,o.backAnimStarted[e]=!0,qe("bounceZoomPan"+e,de[e],o.backAnimDestination[e],t||300,n.easing.sine.out,(function(t){de[e]=t,Ie()})))))},calculateAnimOffset:function(e){o.backAnimStarted[e]||(o.speedDecelerationRatio[e]=o.speedDecelerationRatio[e]*(o.slowDownRatio[e]+o.slowDownRatioReverse[e]-o.slowDownRatioReverse[e]*o.timeDiff/10),o.speedDecelerationRatioAbs[e]=Math.abs(o.lastFlickSpeed[e]*o.speedDecelerationRatio[e]),o.distanceOffset[e]=o.lastFlickSpeed[e]*o.speedDecelerationRatio[e]*o.timeDiff,de[e]+=o.distanceOffset[e])},panAnimLoop:function(){return Ne.zoomPan&&(Ne.zoomPan.raf=H(o.panAnimLoop),o.now=Se(),o.timeDiff=o.now-o.lastNow,o.lastNow=o.now,o.calculateAnimOffset("x"),o.calculateAnimOffset("y"),Ie(),o.calculateOverBoundsAnimOffset("x"),o.calculateOverBoundsAnimOffset("y"),o.speedDecelerationRatioAbs.x<.05&&o.speedDecelerationRatioAbs.y<.05)?(de.x=Math.round(de.x),de.y=Math.round(de.y),Ie(),void Ue("zoomPan")):void 0}};return o},Ht=function(e){return e.calculateSwipeSpeed("y"),J=s.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05?(e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0):(Ke("zoomPan"),e.lastNow=Se(),void e.panAnimLoop())},Et=function(e,t){var o,i,r;if(te||(at=d),"swipe"===e){var l=et.x-tt.x,h=t.lastFlickDist.x<10;l>30&&(h||t.lastFlickOffset.x>20)?i=-1:-30>l&&(h||t.lastFlickOffset.x<-20)&&(i=1)}i&&(0>(d+=i)?(d=a.loop?Mt()-1:0,r=!0):d>=Mt()&&(d=a.loop?0:Mt()-1,r=!0),(!r||a.loop)&&(fe+=i,pe-=i,o=!0));var c,p=me.x*pe,u=Math.abs(p-ht.x);return o||p>ht.x==t.lastFlickSpeed.x>0?(c=Math.abs(t.lastFlickSpeed.x)>0?u/Math.abs(t.lastFlickSpeed.x):333,c=Math.min(c,400),c=Math.max(c,250)):c=333,at===d&&(o=!1),te=!0,Te("mainScrollAnimStart"),qe("mainScroll",ht.x,p,c,n.easing.cubic.out,He,(function(){Ge(),te=!1,at=-1,(o||at!==d)&&s.updateCurrItem(),Te("mainScrollAnimComplete")})),o&&s.updateCurrItem(!0),o},Pt=function(e){return 1/Q*e*g},Rt=function(){var e=w,t=De(),o=_e();t>w?e=t:w>o&&(e=o);var i,a=se;return ne&&!$&&!ae&&t>w?(s.close(),!0):(ne&&(i=function(e){Le((1-a)*e+a)}),s.zoomTo(e,0,200,n.easing.cubic.out,i),!0)};xe("Gestures",{publicMethods:{initGestures:function(){var e=function(e,t,o,i,n){T=e+t,S=e+o,L=e+i,C=n?e+n:""};(k=Z.pointerEvent)&&Z.touch&&(Z.touch=!1),k?navigator.pointerEnabled?e("pointer","down","move","up","cancel"):e("MSPointer","Down","Move","Up","Cancel"):Z.touch?(e("touch","start","move","end","cancel"),O=!0):e("mouse","down","move","up"),u=S+" "+L+" "+C,m=T,k&&!O&&(O=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),s.likelyTouchDevice=O,f[T]=Lt,f[S]=Ct,f[L]=kt,C&&(f[C]=f[L]),Z.touch&&(m+=" mousedown",u+=" mousemove mouseup",f.mousedown=f[T],f.mousemove=f[S],f.mouseup=f[L]),O||(a.allowPanToNext=!1)}}});var At,Ft,Zt,Dt,_t,Mt,$t=function(t,o,i,r){var l;At&&clearTimeout(At),Dt=!0,Zt=!0,t.initialLayout?(l=t.initialLayout,t.initialLayout=null):l=a.getThumbBoundsFn&&a.getThumbBoundsFn(d);var c=i?a.hideAnimationDuration:a.showAnimationDuration,p=function(){Ue("initialZoom"),i?(s.template.removeAttribute("style"),s.bg.removeAttribute("style")):(Le(1),o&&(o.style.display="block"),n.addClass(e,"pswp--animated-in"),Te("initialZoom"+(i?"OutEnd":"InEnd"))),r&&r(),Dt=!1};if(!c||!l||void 0===l.x)return Te("initialZoom"+(i?"Out":"In")),w=t.initialZoomLevel,Pe(de,t.initialPosition),Ie(),e.style.opacity=i?0:1,Le(1),void(c?setTimeout((function(){p()}),c):p());!function(){var o=h,r=!s.currItem.src||s.currItem.loadError||a.showHideOpacity;t.miniImg&&(t.miniImg.style.webkitBackfaceVisibility="hidden"),i||(w=l.w/t.w,de.x=l.x,de.y=l.y-R,s[r?"template":"bg"].style.opacity=.001,Ie()),Ke("initialZoom"),i&&!o&&n.removeClass(e,"pswp--animated-in"),r&&(i?n[(o?"remove":"add")+"Class"](e,"pswp--animate_opacity"):setTimeout((function(){n.addClass(e,"pswp--animate_opacity")}),30)),At=setTimeout((function(){if(Te("initialZoom"+(i?"Out":"In")),i){var s=l.w/t.w,a={x:de.x,y:de.y},h=w,d=se,u=function(t){1===t?(w=s,de.x=l.x,de.y=l.y-F):(w=(s-h)*t+h,de.x=(l.x-a.x)*t+a.x,de.y=(l.y-F-a.y)*t+a.y),Ie(),r?e.style.opacity=1-t:Le(d-t*d)};o?qe("initialZoom",0,1,c,n.easing.cubic.out,u,p):(u(1),At=setTimeout(p,c+20))}else w=t.initialZoomLevel,Pe(de,t.initialPosition),Ie(),Le(1),r?e.style.opacity=1:Le(1),At=setTimeout(p,c+20)}),i?25:90)}()},Bt={},Yt=[],Nt={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Ft.length}},Xt=function(e,t,o){if(e.src&&!e.loadError){var i=!o;if(i&&(e.vGap||(e.vGap={top:0,bottom:0}),Te("parseVerticalMargin",e)),Bt.x=t.x,Bt.y=t.y-e.vGap.top-e.vGap.bottom,i){var n=Bt.x/e.w,s=Bt.y/e.h;e.fitRatio=s>n?n:s;var r=a.scaleMode;"orig"===r?o=1:"fit"===r&&(o=e.fitRatio),o>1&&(o=1),e.initialZoomLevel=o,e.bounds||(e.bounds={center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}})}if(!o)return;return function(e,t,o){var i=e.bounds;i.center.x=Math.round((Bt.x-t)/2),i.center.y=Math.round((Bt.y-o)/2)+e.vGap.top,i.max.x=t>Bt.x?Math.round(Bt.x-t):i.center.x,i.max.y=o>Bt.y?Math.round(Bt.y-o)+e.vGap.top:i.center.y,i.min.x=t>Bt.x?0:i.center.x,i.min.y=o>Bt.y?e.vGap.top:i.center.y}(e,e.w*o,e.h*o),i&&o===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds}return e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds={center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}},e.initialPosition=e.bounds.center,e.bounds},Ut=function(e,t,o,i,n,a){t.loadError||i&&(t.imageAppended=!0,qt(t,i,t===s.currItem&&ve),o.appendChild(i),a&&setTimeout((function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)}),500))},Kt=function(e){e.loading=!0,e.loaded=!1;var t=e.img=n.createEl("pswp__img","img"),o=function(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,t.onload=t.onerror=null,t=null};return t.onload=o,t.onerror=function(){e.loadError=!0,o()},t.src=e.src,t},Gt=function(e,t){return e.src&&e.loadError&&e.container?(t&&(e.container.innerHTML=""),e.container.innerHTML=a.errorMsg.replace("%url%",e.src),!0):void 0},qt=function(e,t,o){if(e.src){t||(t=e.container.lastChild);var i=o?e.w:Math.round(e.w*e.fitRatio),n=o?e.h:Math.round(e.h*e.fitRatio);e.placeholder&&!e.loaded&&(e.placeholder.style.width=i+"px",e.placeholder.style.height=n+"px"),t.style.width=i+"px",t.style.height=n+"px"}},jt=function(){if(Yt.length){for(var e,t=0;t<Yt.length;t++)(e=Yt[t]).holder.index===e.index&&Ut(e.index,e.item,e.baseDiv,e.img,0,e.clearPlaceholder);Yt=[]}};xe("Controller",{publicMethods:{lazyLoadItem:function(e){e=ye(e);var t=_t(e);t&&(!t.loaded&&!t.loading||y)&&(Te("gettingData",e,t),t.src&&Kt(t))},initController:function(){n.extend(a,Nt,!0),s.items=Ft=o,_t=s.getItemAt,Mt=a.getNumItemsFn,a.loop,Mt()<3&&(a.loop=!1),We("beforeChange",(function(e){var t,o=a.preload,i=null===e||e>=0,n=Math.min(o[0],Mt()),r=Math.min(o[1],Mt());for(t=1;(i?r:n)>=t;t++)s.lazyLoadItem(d+t);for(t=1;(i?n:r)>=t;t++)s.lazyLoadItem(d-t)})),We("initialLayout",(function(){s.currItem.initialLayout=a.getThumbBoundsFn&&a.getThumbBoundsFn(d)})),We("mainScrollAnimComplete",jt),We("initialZoomInEnd",jt),We("destroy",(function(){for(var e,t=0;t<Ft.length;t++)(e=Ft[t]).container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);Yt=null}))},getItemAt:function(e){return e>=0&&void 0!==Ft[e]&&Ft[e]},allowProgressiveImg:function(){return a.forceProgressiveLoading||!O||a.mouseUsed||screen.width>1200},setContent:function(e,t){a.loop&&(t=ye(t));var o=s.getItemAt(e.index);o&&(o.container=null);var i,l=s.getItemAt(t);if(l){Te("gettingData",t,l),e.index=t,e.item=l;var h=l.container=n.createEl("pswp__zoom-wrap");if(!l.src&&l.html&&(l.html.tagName?h.appendChild(l.html):h.innerHTML=l.html),Gt(l),Xt(l,ce),!l.src||l.loadError||l.loaded)l.src&&!l.loadError&&((i=n.createEl("pswp__img","img")).style.opacity=1,i.src=l.src,qt(l,i),Ut(0,l,h,i));else{if(l.loadComplete=function(o){if(r){if(e&&e.index===t){if(Gt(o,!0))return o.loadComplete=o.img=null,Xt(o,ce),ke(o),void(e.index===d&&s.updateCurrZoomItem());o.imageAppended?!Dt&&o.placeholder&&(o.placeholder.style.display="none",o.placeholder=null):Z.transform&&(te||Dt)?Yt.push({item:o,baseDiv:h,img:o.img,index:t,holder:e,clearPlaceholder:!0}):Ut(0,o,h,o.img,0,!0)}o.loadComplete=null,o.img=null,Te("imageLoadComplete",t,o)}},n.features.transform){var c="pswp__img pswp__img--placeholder";c+=l.msrc?"":" pswp__img--placeholder--blank";var p=n.createEl(c,l.msrc?"img":"");l.msrc&&(p.src=l.msrc),qt(l,p),h.appendChild(p),l.placeholder=p}l.loading||Kt(l),s.allowProgressiveImg()&&(!Zt&&Z.transform?Yt.push({item:l,baseDiv:h,img:l.img,index:t,holder:e}):Ut(0,l,h,l.img,0,!0))}Zt||t!==d?ke(l):(ee=h.style,$t(l,i||l.img)),e.el.innerHTML="",e.el.appendChild(h)}else e.el.innerHTML=""},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}});var Vt,Qt,Jt={},eo=function(e,t,o){var i=document.createEvent("CustomEvent"),n={origEvent:e,target:e.target,releasePoint:t,pointerType:o||"touch"};i.initCustomEvent("pswpTap",!0,!0,n),e.target.dispatchEvent(i)};xe("Tap",{publicMethods:{initTap:function(){We("firstTouchStart",s.onTapStart),We("touchRelease",s.onTapRelease),We("destroy",(function(){Jt={},Vt=null}))},onTapStart:function(e){e.length>1&&(clearTimeout(Vt),Vt=null)},onTapRelease:function(e,t){if(t&&!K&&!X&&!Xe){var o=t;if(Vt&&(clearTimeout(Vt),Vt=null,function(e,t){return Math.abs(e.x-t.x)<25&&Math.abs(e.y-t.y)<25}(o,Jt)))return void Te("doubleTap",o);if("mouse"===t.type)return void eo(e,t,"mouse");if("BUTTON"===e.target.tagName.toUpperCase()||n.hasClass(e.target,"pswp__single-tap"))return void eo(e,t);Pe(Jt,o),Vt=setTimeout((function(){eo(e,t),Vt=null}),300)}}}}),xe("DesktopZoom",{publicMethods:{initDesktopZoom:function(){A||(O?We("mouseUsed",(function(){s.setupDesktopZoom()})):s.setupDesktopZoom(!0))},setupDesktopZoom:function(t){Qt={};var o="wheel mousewheel DOMMouseScroll";We("bindEvents",(function(){n.bind(e,o,s.handleMouseWheel)})),We("unbindEvents",(function(){Qt&&n.unbind(e,o,s.handleMouseWheel)})),s.mouseZoomedIn=!1;var i,a=function(){s.mouseZoomedIn&&(n.removeClass(e,"pswp--zoomed-in"),s.mouseZoomedIn=!1),1>w?n.addClass(e,"pswp--zoom-allowed"):n.removeClass(e,"pswp--zoom-allowed"),r()},r=function(){i&&(n.removeClass(e,"pswp--dragging"),i=!1)};We("resize",a),We("afterChange",a),We("pointerDown",(function(){s.mouseZoomedIn&&(i=!0,n.addClass(e,"pswp--dragging"))})),We("pointerUp",r),t||a()},handleMouseWheel:function(e){if(w<=s.currItem.fitRatio)return a.modal&&(!a.closeOnScroll||Xe||N?e.preventDefault():I&&Math.abs(e.deltaY)>2&&(h=!0,s.close())),!0;if(e.stopPropagation(),Qt.x=0,"deltaX"in e)1===e.deltaMode?(Qt.x=18*e.deltaX,Qt.y=18*e.deltaY):(Qt.x=e.deltaX,Qt.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(Qt.x=-.16*e.wheelDeltaX),e.wheelDeltaY?Qt.y=-.16*e.wheelDeltaY:Qt.y=-.16*e.wheelDelta;else{if(!("detail"in e))return;Qt.y=e.detail}Ze(w,!0);var t=de.x-Qt.x,o=de.y-Qt.y;(a.modal||t<=J.min.x&&t>=J.max.x&&o<=J.min.y&&o>=J.max.y)&&e.preventDefault(),s.panTo(t,o)},toggleDesktopZoom:function(t){t=t||{x:ce.x/2+ue.x,y:ce.y/2+ue.y};var o=a.getDoubleTapZoom(!0,s.currItem),i=w===o;s.mouseZoomedIn=!i,s.zoomTo(i?s.currItem.initialZoomLevel:o,t,333),n[(i?"remove":"add")+"Class"](e,"pswp--zoomed-in")}}});var to,oo,io,no,so,ao,ro,lo,ho,co,po,uo,mo={history:!0,galleryUID:1},fo=function(){return po.hash.substring(1)},wo=function(){to&&clearTimeout(to),io&&clearTimeout(io)},go=function(){var e=fo(),t={};if(e.length<5)return t;var o,i=e.split("&");for(o=0;o<i.length;o++)if(i[o]){var n=i[o].split("=");n.length<2||(t[n[0]]=n[1])}if(a.galleryPIDs){var s=t.pid;for(t.pid=0,o=0;o<Ft.length;o++)if(Ft[o].pid===s){t.pid=o;break}}else t.pid=parseInt(t.pid,10)-1;return t.pid<0&&(t.pid=0),t},zo=function(){if(io&&clearTimeout(io),Xe||N)io=setTimeout(zo,500);else{no?clearTimeout(oo):no=!0;var e=d+1,t=_t(d);t.hasOwnProperty("pid")&&(e=t.pid);var o=ro+"&gid="+a.galleryUID+"&pid="+e;lo||-1===po.hash.indexOf(o)&&(co=!0);var i=po.href.split("#")[0]+"#"+o;uo?"#"+o!==window.location.hash&&history[lo?"replaceState":"pushState"]("",document.title,i):lo?po.replace(i):po.hash=o,lo=!0,oo=setTimeout((function(){no=!1}),60)}};xe("History",{publicMethods:{initHistory:function(){if(n.extend(a,mo,!0),a.history){po=window.location,co=!1,ho=!1,lo=!1,ro=fo(),uo="pushState"in history,ro.indexOf("gid=")>-1&&(ro=(ro=ro.split("&gid=")[0]).split("?gid=")[0]),We("afterChange",s.updateURL),We("unbindEvents",(function(){n.unbind(window,"hashchange",s.onHashChange)}));var e=function(){ao=!0,ho||(co?history.back():ro?po.hash=ro:uo?history.pushState("",document.title,po.pathname+po.search):po.hash=""),wo()};We("unbindEvents",(function(){h&&e()})),We("destroy",(function(){ao||e()})),We("firstUpdate",(function(){d=go().pid}));var t=ro.indexOf("pid=");t>-1&&("&"===(ro=ro.substring(0,t)).slice(-1)&&(ro=ro.slice(0,-1))),setTimeout((function(){r&&n.bind(window,"hashchange",s.onHashChange)}),40)}},onHashChange:function(){return fo()===ro?(ho=!0,void s.close()):void(no||(so=!0,s.goTo(go().pid),so=!1))},updateURL:function(){wo(),so||(lo?to=setTimeout(zo,800):zo())}}}),n.extend(s,je)}})),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipeUI_Default=t()}(this,(function(){"use strict";return function(e,t){var o,i,n,s,a,r,l,h,d,c,p,u,m,f,w,g,z,v,x=this,y=!1,b=!0,W=!0,T={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return e.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return e.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},S=function(e){if(g)return!0;e=e||window.event,w.timeToIdle&&w.mouseUsed&&!d&&A();for(var o,i,n=(e.target||e.srcElement).getAttribute("class")||"",s=0;s<_.length;s++)(o=_[s]).onTap&&n.indexOf("pswp__"+o.name)>-1&&(o.onTap(),i=!0);if(i){e.stopPropagation&&e.stopPropagation(),g=!0;var a=t.features.isOldAndroid?600:30;setTimeout((function(){g=!1}),a)}},L=function(){return!e.likelyTouchDevice||w.mouseUsed||screen.width>w.fitControlsWidth},C=function(e,o,i){t[(i?"add":"remove")+"Class"](e,"pswp__"+o)},I=function(){var e=1===w.getNumItemsFn();e!==f&&(C(i,"ui--one-slide",e),f=e)},k=function(){C(l,"share-modal--hidden",W)},O=function(){return(W=!W)?(t.removeClass(l,"pswp__share-modal--fade-in"),setTimeout((function(){W&&k()}),300)):(k(),setTimeout((function(){W||t.addClass(l,"pswp__share-modal--fade-in")}),30)),W||E(),!1},H=function(t){var o=(t=t||window.event).target||t.srcElement;return e.shout("shareLinkClick",t,o),!!o.href&&(!!o.hasAttribute("download")||(window.open(o.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),W||O(),!1))},E=function(){for(var e,t,o,i,n="",s=0;s<w.shareButtons.length;s++)e=w.shareButtons[s],t=w.getImageURLForShare(e),o=w.getPageURLForShare(e),i=w.getTextForShare(e),n+='<a href="'+e.url.replace("{{url}}",encodeURIComponent(o)).replace("{{image_url}}",encodeURIComponent(t)).replace("{{raw_image_url}}",t).replace("{{text}}",encodeURIComponent(i))+'" target="_blank" class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>",w.parseShareButtonOut&&(n=w.parseShareButtonOut(e,n));l.children[0].innerHTML=n,l.children[0].onclick=H},P=function(e){for(var o=0;o<w.closeElClasses.length;o++)if(t.hasClass(e,"pswp__"+w.closeElClasses[o]))return!0},R=0,A=function(){clearTimeout(v),R=0,d&&x.setIdle(!1)},F=function(e){var t=(e=e||window.event).relatedTarget||e.toElement;t&&"HTML"!==t.nodeName||(clearTimeout(v),v=setTimeout((function(){x.setIdle(!0)}),w.timeToIdleOutside))},Z=function(e){u!==e&&(C(p,"preloader--active",!e),u=e)},D=function(e){var o=e.vGap;if(L()){var a=w.barsSize;if(w.captionEl&&"auto"===a.bottom)if(s||((s=t.createEl("pswp__caption pswp__caption--fake")).appendChild(t.createEl("pswp__caption__center")),i.insertBefore(s,n),t.addClass(i,"pswp__ui--fit")),w.addCaptionHTMLFn(e,s,!0)){var r=s.clientHeight;o.bottom=parseInt(r,10)||44}else o.bottom=a.top;else o.bottom="auto"===a.bottom?0:a.bottom;o.top=a.top}else o.top=o.bottom=0},_=[{name:"caption",option:"captionEl",onInit:function(e){n=e}},{name:"share-modal",option:"shareEl",onInit:function(e){l=e},onTap:function(){O()}},{name:"button--share",option:"shareEl",onInit:function(e){r=e},onTap:function(){O()}},{name:"button--zoom",option:"zoomEl",onTap:e.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){a=e}},{name:"button--close",option:"closeEl",onTap:e.close},{name:"button--arrow--left",option:"arrowEl",onTap:e.prev},{name:"button--arrow--right",option:"arrowEl",onTap:e.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){o.isFullscreen()?o.exit():o.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){p=e}}];x.init=function(){t.extend(e.options,T,!0),w=e.options,i=t.getChildByClass(e.scrollWrap,"pswp__ui"),c=e.listen,function(){var e;c("onVerticalDrag",(function(e){b&&.95>e?x.hideControls():!b&&e>=.95&&x.showControls()})),c("onPinchClose",(function(t){b&&.9>t?(x.hideControls(),e=!0):e&&!b&&t>.9&&x.showControls()})),c("zoomGestureEnded",(function(){(e=!1)&&!b&&x.showControls()}))}(),c("beforeChange",x.update),c("doubleTap",(function(t){var o=e.currItem.initialZoomLevel;e.getZoomLevel()!==o?e.zoomTo(o,t,333):e.zoomTo(w.getDoubleTapZoom(!1,e.currItem),t,333)})),c("preventDragEvent",(function(e,t,o){var i=e.target||e.srcElement;i&&i.getAttribute("class")&&e.type.indexOf("mouse")>-1&&(i.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(i.tagName))&&(o.prevent=!1)})),c("bindEvents",(function(){t.bind(i,"pswpTap click",S),t.bind(e.scrollWrap,"pswpTap",x.onGlobalTap),e.likelyTouchDevice||t.bind(e.scrollWrap,"mouseover",x.onMouseOver)})),c("unbindEvents",(function(){W||O(),z&&clearInterval(z),t.unbind(document,"mouseout",F),t.unbind(document,"mousemove",A),t.unbind(i,"pswpTap click",S),t.unbind(e.scrollWrap,"pswpTap",x.onGlobalTap),t.unbind(e.scrollWrap,"mouseover",x.onMouseOver),o&&(t.unbind(document,o.eventK,x.updateFullscreen),o.isFullscreen()&&(w.hideAnimationDuration=0,o.exit()),o=null)})),c("destroy",(function(){w.captionEl&&(s&&i.removeChild(s),t.removeClass(n,"pswp__caption--empty")),l&&(l.children[0].onclick=null),t.removeClass(i,"pswp__ui--over-close"),t.addClass(i,"pswp__ui--hidden"),x.setIdle(!1)})),w.showAnimationDuration||t.removeClass(i,"pswp__ui--hidden"),c("initialZoomIn",(function(){w.showAnimationDuration&&t.removeClass(i,"pswp__ui--hidden")})),c("initialZoomOut",(function(){t.addClass(i,"pswp__ui--hidden")})),c("parseVerticalMargin",D),function(){var e,o,n,s=function(i){if(i)for(var s=i.length,a=0;s>a;a++){e=i[a],o=e.className;for(var r=0;r<_.length;r++)n=_[r],o.indexOf("pswp__"+n.name)>-1&&(w[n.option]?(t.removeClass(e,"pswp__element--disabled"),n.onInit&&n.onInit(e)):t.addClass(e,"pswp__element--disabled"))}};s(i.children);var a=t.getChildByClass(i,"pswp__top-bar");a&&s(a.children)}(),w.shareEl&&r&&l&&(W=!0),I(),w.timeToIdle&&c("mouseUsed",(function(){t.bind(document,"mousemove",A),t.bind(document,"mouseout",F),z=setInterval((function(){2==++R&&x.setIdle(!0)}),w.timeToIdle/2)})),w.fullscreenEl&&!t.features.isOldAndroid&&(o||(o=x.getFullscreenAPI()),o?(t.bind(document,o.eventK,x.updateFullscreen),x.updateFullscreen(),t.addClass(e.template,"pswp--supports-fs")):t.removeClass(e.template,"pswp--supports-fs")),w.preloaderEl&&(Z(!0),c("beforeChange",(function(){clearTimeout(m),m=setTimeout((function(){e.currItem&&e.currItem.loading?(!e.allowProgressiveImg()||e.currItem.img&&!e.currItem.img.naturalWidth)&&Z(!1):Z(!0)}),w.loadingIndicatorDelay)})),c("imageLoadComplete",(function(t,o){e.currItem===o&&Z(!0)})))},x.setIdle=function(e){d=e,C(i,"ui--idle",e)},x.update=function(){b&&e.currItem?(x.updateIndexIndicator(),w.captionEl&&(w.addCaptionHTMLFn(e.currItem,n),C(n,"caption--empty",!e.currItem.title)),y=!0):y=!1,W||O(),I()},x.updateFullscreen=function(i){i&&setTimeout((function(){e.setScrollOffset(0,t.getScrollY())}),50),t[(o.isFullscreen()?"add":"remove")+"Class"](e.template,"pswp--fs")},x.updateIndexIndicator=function(){w.counterEl&&(a.innerHTML=e.getCurrentIndex()+1+w.indexIndicatorSep+w.getNumItemsFn())},x.onGlobalTap=function(o){var i=(o=o||window.event).target||o.srcElement;if(!g)if(o.detail&&"mouse"===o.detail.pointerType){if(P(i))return void e.close();t.hasClass(i,"pswp__img")&&(1===e.getZoomLevel()&&e.getZoomLevel()<=e.currItem.fitRatio?w.clickToCloseNonZoomable&&e.close():e.toggleDesktopZoom(o.detail.releasePoint))}else if(w.tapToToggleControls&&(b?x.hideControls():x.showControls()),w.tapToClose&&(t.hasClass(i,"pswp__img")||P(i)))return void e.close()},x.onMouseOver=function(e){var t=(e=e||window.event).target||e.srcElement;C(i,"ui--over-close",P(t))},x.hideControls=function(){t.addClass(i,"pswp__ui--hidden"),b=!1},x.showControls=function(){b=!0,y||x.update(),t.removeClass(i,"pswp__ui--hidden")},x.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},x.getFullscreenAPI=function(){var t,o=document.documentElement,i="fullscreenchange";return o.requestFullscreen?t={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:i}:o.mozRequestFullScreen?t={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+i}:o.webkitRequestFullscreen?t={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+i}:o.msRequestFullscreen&&(t={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),t&&(t.enter=function(){return h=w.closeOnScroll,w.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?e.template[this.enterK]():void e.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},t.exit=function(){return w.closeOnScroll=h,document[this.exitK]()},t.isFullscreen=function(){return document[this.elementK]}),t}}}));const ProjectorSlider=function(e){return this.params=e,this.defaults={slidesToShow:1,slidesToScroll:1,lazyLoad:"progressive",arrows:!0,prevArrow:'<a class="slick-prev" href=""><i class="icon-angle-left"></i></a>',nextArrow:'<a class="slick-next" href=""><i class="icon-angle-right"></i></a>',fade:!0,speed:150,adaptiveHeight:!0,responsive:[{breakpoint:979,settings:{infinite:!0}}]},this.init=()=>{const{selector:e,options:t,callbackBefore:o,callbackAfter:i,pager:n}=this.params;this.settings=_objectSpread({},this.defaults,{},t),this.selector=e,this.slider=$(e),"function"==typeof o&&o(this.slider),this.slider.slick(this.settings),"function"==typeof i&&i(this.slider),"function"==typeof n?n(this.slider):this.pager()},this.reset=()=>{this.slider&&this.slider.slick("unslick"),this.init(this.params)},this.destroy=()=>{this.slider&&this.slider.slick("unslick")},this.pager=()=>{const e=this.slider,t=e.slick("slickCurrentSlide");$('#photos_nav [data-slick-index = "'+t+'"]').addClass("--active"),e.on("beforeChange",(function(e,t,o,i){$("#photos_nav .--active").removeClass("--active"),$('#photos_nav [data-slick-index = "'+i+'"]').addClass("--active")})),$("#photos_nav a:not(.--more)").on("click",(function(t){t.preventDefault(),e.slick("slickGoTo",$(this).data("slick-index"))}))},this.init()},ProjectorElevate=function(e){this.params=e,this.defaults={zoomWindowFadeIn:100,zoomWindowFadeOut:100,lensFadeIn:100,lensFadeOut:100,borderSize:1,easing:!0,zoomWindowWidth:$("#projector_form").width()+30,zoomWindowHeight:$("#projector_form").width()+30,zoomWindowOffetx:30,zoomWindowOffety:0,cursor:"crosshair",responsive:!0},this.init=()=>{const{selector:e,options:t,loadImg:o,callbackBefore:i,callbackAfter:n}=this.params;this.settings=_objectSpread({},this.defaults,{},t),this.currImg=$(e),this.callbackAfter=n,"function"==typeof i&&i(this.currImg),this.currImg.length&&("function"==typeof o?o(this.currImg):this.loadImg())},this.loadImg=()=>{const e=new Image,{currImg:t,settings:o,callbackAfter:i}=this,{zoomWindowWidth:n,zoomWindowHeight:s}=this.defaults;e.src=this.currImg.parent().attr("href"),$(e).one("load",(function(){(e.width>n||e.height>s)&&t.elevateZoom(o),"function"==typeof i&&i(t)}))},this.reset=()=>{$(".zoomContainer").remove(),this.init(this.params)},this.destroy=()=>{$(".zoomContainer").remove()}};